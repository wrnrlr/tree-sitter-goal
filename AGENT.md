# AGENT.md
Help me develop the tree-sitter grammer for the Goal Array Language.

## File Structure

- `grammar.js`: The grammar definition.
- `src/`: Generated parser files (ignore, generated by tree-sitter).
- `test/`: Test files (`.goal` source code).
- `bindings/`: Language-specific bindings.
- `queries/`: Tree-sitter queries for highlighting and indentation.

## Dev Tips

Test grammer in `<file>`:

```bash
tree-sitter generate && \
  make && \
  gtimeout 30s tree-sitter parse test/<file>.goal && \
  echo "OK" || \
  if [ $? -eq 124 ]; then
    echo "TIMEOUT"
  else
    echo "ERROR"
  fi
```

There are multiple ways this cmd fails:
- JS syntax error
- incompatible regex
- incorrect tree-sitter function
- ambigiouity in grammer
- infinite loop parsing
- syntax error in input file:

Check test files in `test/`, add if something is untested.
Run each test file seperatly and check if the output is the Concrete Syntax Tree expected.
Use a wildcard `*` to test all files, good for final check but output too large to read.
Test common subsections of syntax in the underscore file `test/_.goal`.

## Tasks

improve the grammer step by step
